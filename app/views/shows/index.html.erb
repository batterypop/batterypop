<div class="main channel">
  <div class="container">
    <div class="content">

<% colors = ["aqua","purple","gold","orangered","green","steelblue","red","mint"]
pos = 0 %>

<%= render partial: "layouts/breadcrumb", :locals => {
        :crumb_title => "<h3>Our<br />Shows</h3>".html_safe, 
        :crumb_text => "<h4>Show Description</h4> <p>All the shows fit to watch.</p>".html_safe } %>



<% @shows.each_with_index do |show| %>
<%  
  if(pos >= (colors.count-1)) 
    pos =0 
  else
    pos = pos + 1
  end
%>


<!-- lower listings -->
    <div class="row show-name-episodes-section <%= colors[pos] %>">

      <div class="col-lg-6 show-name">
		<div class="row no-padding no-margin">
			<div class="col-xs-6 no-padding no-margin">
				<div class="show-icon-border">
					<div class="show-icon-container <%= colors[pos] %>">
						<%= image_tag(show.image(:thumbnail), :alt => show.title, :class => "img-responsive thumbnail media-object show-episode-image", :width => '186') %>
					</div>
				</div>
			</div>
			<div class="col-xs-6 no-padding no-margin">
				<div class="show-metadata">
					<h2><%= "#{show.title}" %></h2>
	            	<%= show.description.html_safe %>
				</div>
			</div>
 		</div>
      </div>

      <div class="col-lg-6 show-episodes no-padding">

<!-- episode slider -->
       <!--  <div class="row bpop-slider"> -->
            <ul class="bxslider show-episodes-slider">
                <% show.episodes.each do |episode| %>
                  <li>
                    <%= render partial: "layouts/vertical_slide", :locals => {
                      :slide_title => episode.title, 
                      :slide_text => truncate_html(strip_tags(episode.description), length: 100, omission: '<b>...(more)</b>'), 
                      :slide_image => image_tag(episode.image(:thumb), :alt => episode.title, :class => "img-responsive img-circle", :width => '110', :height => '110' ),
                      :slide_url => episode_path(Episode.friendly.find(episode.id))} %>
                  </li>
                <% end %>
            </ul>
       <!--  </div>        -->
<!-- end episode slider -->



      </div>
    </div>

<!-- end lower listings -->
<% end %>



    </div>
  </div>
</div>

<!-- 
nextSelector: '#home-promoted-next',
prevSelector: '#home-promoted-prev',
nextText: 'NEXT', prevText: 'PREV',
-->


<!-- home items inited -->
<script type="text/javascript">
  $(document).ready(function(){
    $('.show-episodes-slider').bxSlider({
        minSlides: 2,
        maxSlides: 4,
        slideWidth: 170,
        responsive: true,
        touchEnabled: true,
        slideMargin: 10,
        moveSlides: 2,
        infiniteLoop: false,
        hideControlOnEnd: true,
        slideMargin: 0, 
        pager: false
      });

  });
</script>