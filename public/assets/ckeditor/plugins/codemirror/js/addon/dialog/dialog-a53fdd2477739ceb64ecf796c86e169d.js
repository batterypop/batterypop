!function(){function o(o,e,r){return o=o.getWrapperElement().appendChild(document.createElement("div")),o.className=r?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top",o.innerHTML=e,o}CodeMirror.defineExtension("openDialog",function(e,r,n){function t(){u||(u=!0,i.parentNode.removeChild(i))}var i=o(this,e,n&&n.bottom),u=!1,d=this,c=i.getElementsByTagName("input")[0];return c?(CodeMirror.on(c,"keydown",function(o){(13==o.keyCode||27==o.keyCode)&&(CodeMirror.e_stop(o),t(),d.focus(),13==o.keyCode&&r(c.value))}),n&&n.value&&(c.value=n.value),c.focus(),CodeMirror.on(c,"blur",t)):(e=i.getElementsByTagName("button")[0])&&(CodeMirror.on(e,"click",function(){t(),d.focus()}),e.focus(),CodeMirror.on(e,"blur",t)),t}),CodeMirror.defineExtension("openConfirm",function(e,r,n){function t(){u||(u=!0,i.parentNode.removeChild(i),d.focus())}var i=o(this,e,n&&n.bottom),e=i.getElementsByTagName("button"),u=!1,d=this,c=1;for(e[0].focus(),n=0;n<e.length;++n){var a=e[n];!function(o){CodeMirror.on(a,"click",function(e){CodeMirror.e_preventDefault(e),t(),o&&o(d)})}(r[n]),CodeMirror.on(a,"blur",function(){--c,setTimeout(function(){0>=c&&t()},200)}),CodeMirror.on(a,"focus",function(){++c})}})}();